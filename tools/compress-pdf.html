<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compress PDF Online Free: Resize PDF with Rojgar Sangam Tools</title>
    <meta name="description" content="Use Rojgar Sangam Tools to compress pdf online free. Reduce your PDF file size quickly for government job forms with our safe and secure online pdf optimizer.">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
</head>
<body>

    <header class="header-main">
        <div class="row-settings flex justify-between items-center">
            <a href="../index.html">
                <img src="https://raw.githubusercontent.com/sanjeevkumarambn/tools/main/Rojgar%20Sangam%20HD%20Logo.png" class="logo-img" alt="Rojgar Sangam">
            </a>
            <nav class="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../index.html" class="nav-link">Tools</a>
                <a href="https://rojgarsangam.in/contact-us/" class="nav-link">Contact</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="screen-1" class="section-custom">
            <div class="row-settings text-center">
                <h1 class="h1-main">Compress PDF Online Free: Optimize Your Files Quickly</h1>
                <p class="text-gray-500 mb-8">Reduce your PDF file size without losing quality for easy online submissions.</p>
                
                <div class="bg-white p-12 rounded-3xl border-2 border-dashed border-[#00079e] max-w-xl mx-auto cursor-pointer hover:bg-[#f8f8ff] transition" onclick="document.getElementById('pdfInput').click()">
                    <div class="text-5xl text-[#00079e] mb-4"><i class="fas fa-file-contract"></i></div>
                    <p class="font-bold text-[#333333]">Select PDF file</p>
                    <p class="text-xs text-gray-400 mt-1">Smaller size, same quality</p>
                    <input type="file" id="pdfInput" class="hidden" accept="application/pdf" onchange="handleFile(event)">
                </div>

                <div class="mt-16 bg-[#fdece5] p-10 rounded-3xl text-left max-w-4xl mx-auto border border-[#bdbdbd]">
                    <h2 class="text-xl font-bold text-[#333333] mb-4 border-l-4 border-[#00079e] pl-4">Benefits of Using Rojgar Sangam Tools for PDF Compression</h2>
                    <p class="p-hero text-sm">
                        Official websites often have strict limits on document size. Using rojgar sangam tools allows you to compress pdf online free so your application is never rejected due to large files.
                    </p>
                    <p class="p-hero text-sm">
                        Our optimizer is built to maintain the readability of your certificates. Whether it is a marksheet or an identity proof, we ensure that every detail remains sharp after the size reduction.
                    </p>
                    <p class="p-hero text-sm">
                        Security is our priority when you use any online utility. Your documents are processed entirely on your own browser. No data is sent to our servers, keeping your personal information completely private.
                    </p>
                </div>
            </div>
        </section>

        <section id="screen-2" class="section-custom hidden">
            <div class="row-settings flex flex-col md:flex-row gap-8">
                <div class="w-full md:w-2/3 bg-white p-8 rounded-xl border border-[#bdbdbd] text-center">
                    <div class="text-6xl text-red-600 mb-4"><i class="fas fa-file-pdf"></i></div>
                    <h3 id="fileName" class="font-bold text-gray-700 mb-2 truncate">document.pdf</h3>
                    <p id="fileSize" class="text-xs text-gray-400 font-bold"></p>
                </div>
                
                <div class="w-full md:w-1/3 bg-white p-8 rounded-xl border border-[#bdbdbd]">
                    <h3 class="font-bold text-lg mb-4">Compression Settings</h3>
                    <p class="text-sm text-gray-600 mb-6">Our system will automatically apply the best settings to reduce size while keeping text clear.</p>
                    <button class="btn-brand w-full py-4 flex items-center justify-center gap-2" onclick="processCompression()">
                        Compress PDF <i class="fas fa-compress-arrows-alt"></i>
                    </button>
                    <button class="w-full text-xs text-gray-400 mt-4 underline" onclick="location.reload()">Choose Different File</button>
                </div>
            </div>
        </section>

        <section id="screen-3" class="section-custom hidden">
            <div class="row-settings text-center py-20 bg-white rounded-3xl border border-[#bdbdbd] max-w-2xl">
                <div class="mb-6"><img src="https://cdn-icons-png.flaticon.com/512/10515/10515124.png" class="w-20 mx-auto animate-bounce"></div>
                <h2 class="text-2xl font-bold text-[#333333]">Optimizing PDF</h2>
                <p class="text-gray-500 mt-2 text-sm">Reducing file size for you, please wait...</p>
            </div>
        </section>

        <section id="screen-4" class="section-custom hidden">
            <div class="row-settings text-center py-12 bg-white rounded-3xl border border-[#bdbdbd] max-w-2xl">
                <div class="text-6xl text-green-500 mb-6"><i class="fas fa-check-double"></i></div>
                <h2 class="text-3xl font-extrabold text-[#333333] mb-2">Compression Successful</h2>
                <p id="reductionInfo" class="text-green-700 font-bold mb-8 text-sm"></p>
                
                <div class="flex flex-col gap-4 max-w-xs mx-auto">
                    <button class="btn-brand flex items-center justify-center gap-2" onclick="downloadCompressed()">
                        Download Small PDF <i class="fas fa-download"></i>
                    </button>
                    <button class="btn-outline" onclick="location.reload()">Compress Another</button>
                    <a href="../index.html" class="text-sm text-[#00079e] font-bold mt-4">Return to Home</a>
                </div>
            </div>
        </section>

        <div class="ad-manager-placeholder row-settings" data-ad-type="leaderboard"></div>
    </main>

    <footer class="footer-main">
        <div class="row-settings text-center text-[10px] text-gray-400">
            Rojgar Sangam Tools - Secure & High-Quality PDF Compression
        </div>
    </footer>

    <script src="../js/ad-manager.js"></script>
    <script src="../js/main.js"></script>
    <script>
        let originalFile = null;
        let compressedPdfBytes = null;

        function handleFile(e) {
            originalFile = e.target.files[0];
            if (!originalFile) return;

            document.getElementById('fileName').innerText = originalFile.name;
            document.getElementById('fileSize').innerText = "Original Size: " + (originalFile.size / 1024).toFixed(2) + " KB";
            switchScreen(2);
        }

        async function processCompression() {
            switchScreen(3);

            try {
                const arrayBuffer = await originalFile.arrayBuffer();
                const { PDFDocument } = PDFLib;
                const pdfDoc = await PDFDocument.load(arrayBuffer);
                
                // ब्राउज़र-साइड कम्प्रेशन के लिए ऑब्जेक्ट स्ट्रीम्स का उपयोग न करना एक सामान्य तकनीक है
                compressedPdfBytes = await pdfDoc.save({ useObjectStreams: false });
                
                const oldSize = originalFile.size;
                const newSize = compressedPdfBytes.length;
                const saved = (((oldSize - newSize) / oldSize) * 100).toFixed(0);

                document.getElementById('reductionInfo').innerText = `Reduced from ${(oldSize/1024).toFixed(1)}KB to ${(newSize/1024).toFixed(1)}KB (Saved ~${saved}%)`;
                
                setTimeout(() => switchScreen(4), 1500);
            } catch (err) {
                alert("Could not compress this PDF. It might be already optimized or protected.");
                switchScreen(2);
            }
        }

        function downloadCompressed() {
            if (!compressedPdfBytes) return;
            const blob = new Blob([compressedPdfBytes], { type: 'application/pdf' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'compressed-rojgar-sangam.pdf';
            link.click();
        }

        function switchScreen(id) {
            document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
            document.getElementById('screen-' + id).classList.remove('hidden');
        }
    </script>
</body>
</html>
