<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Split PDF Online with Rojgar Sangam Tools - Fast & Free</title>
    <meta name="description" content="Use Rojgar Sangam Tools to split PDF files easily. Our word to pdf converter online and jpg to pdf converter provide secure document editing for all forms.">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
</head>
<body>

    <header class="header-main">
        <div class="row-settings flex justify-between items-center">
            <a href="../index.html">
                <img src="https://raw.githubusercontent.com/sanjeevkumarambn/tools/main/Rojgar%20Sangam%20HD%20Logo.png" class="logo-img" alt="Rojgar Sangam">
            </a>
            <nav class="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../index.html" class="nav-link">Tools</a>
                <a href="https://rojgarsangam.in/about-us/" class="nav-link">About Us</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="screen-1" class="section-custom">
            <div class="row-settings text-center">
                <h1 class="h1-main">Effortlessly Split PDF Files Online with Rojgar Sangam Tools</h1>
                <p class="text-gray-500 mb-8">Extract pages or split your PDF into individual files for easy uploading.</p>
                
                <div class="bg-white p-10 rounded-3xl border-2 border-dashed border-[#00079e] max-w-xl mx-auto cursor-pointer hover:bg-[#f8f8ff] transition" onclick="document.getElementById('pdfInput').click()">
                    <div class="text-5xl text-[#00079e] mb-4"><i class="fas fa-file-export"></i></div>
                    <p class="font-bold text-[#333333]">Select PDF file</p>
                    <p class="text-xs text-gray-400 mt-1">Extract specific pages instantly</p>
                    <input type="file" id="pdfInput" class="hidden" accept="application/pdf" onchange="handleFile(event)">
                </div>

                <div class="mt-16 bg-[#eff6ef] p-10 rounded-3xl text-left max-w-4xl mx-auto border border-[#bdbdbd]">
                    <h2 class="text-xl font-bold text-[#333333] mb-4 border-l-4 border-[#00079e] pl-4">How to Split PDF Files Securely</h2>
                    <p class="p-hero text-sm">
                        Managing documents for exams is simple with our rojgar sangam tools. If you need to compress pdf online free or extract pages, this utility is perfect. It allows you to separate important certificates without installing any software.
                    </p>
                    <p class="p-hero text-sm">
                        Many candidates use our word to pdf converter online and jpg to pdf converter daily. This split tool helps you organize your files by picking specific pages from a large document. It is fast and very reliable.
                    </p>
                    <p class="p-hero text-sm">
                        Your privacy is safe with rojgar sangam tools. We ensure that your sensitive information stays on your device. All calculations and file extractions are done locally, meaning nothing is uploaded to any external server.
                    </p>
                </div>
            </div>
        </section>

        <section id="screen-2" class="section-custom hidden">
            <div class="row-settings flex flex-col md:flex-row gap-8">
                <div class="w-full md:w-2/3 bg-white p-8 rounded-xl border border-[#bdbdbd] text-center">
                    <div class="text-6xl text-red-600 mb-4"><i class="fas fa-file-pdf"></i></div>
                    <h3 id="fileName" class="font-bold text-gray-700 mb-2 truncate">Filename.pdf</h3>
                    <p id="pageCount" class="text-xs text-gray-400 uppercase tracking-widest font-bold"></p>
                </div>
                
                <div class="w-full md:w-1/3 bg-white p-8 rounded-xl border border-[#bdbdbd]">
                    <h3 class="font-bold text-lg mb-4">Split Options</h3>
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-600 mb-2">Page Range (e.g. 1-3 or 5)</label>
                        <input type="text" id="pageRange" class="w-full border border-[#bdbdbd] p-3 rounded-lg outline-none focus:border-[#00079e]" placeholder="Example: 1-5">
                    </div>
                    <button class="btn-brand w-full py-4 flex items-center justify-center gap-2" onclick="processSplit()">
                        Split PDF <i class="fas fa-scissors"></i>
                    </button>
                    <button class="w-full text-xs text-gray-400 mt-4 underline" onclick="location.reload()">Cancel and Restart</button>
                </div>
            </div>
        </section>

        <section id="screen-3" class="section-custom hidden">
            <div class="row-settings text-center py-20 bg-white rounded-3xl border border-[#bdbdbd] max-w-2xl">
                <div class="mb-6"><img src="https://cdn-icons-png.flaticon.com/512/10515/10515124.png" class="w-20 mx-auto animate-bounce"></div>
                <h2 class="text-2xl font-bold text-[#333333]">Splitting Your PDF</h2>
                <p class="text-gray-500 mt-2 text-sm">Extracting requested pages, please wait...</p>
            </div>
        </section>

        <section id="screen-4" class="section-custom hidden">
            <div class="row-settings text-center py-12 bg-white rounded-3xl border border-[#bdbdbd] max-w-2xl">
                <div class="text-6xl text-green-500 mb-6"><i class="fas fa-check-circle"></i></div>
                <h2 class="text-3xl font-extrabold text-[#333333] mb-8">PDF Split Complete</h2>
                
                <div class="flex flex-col gap-4 max-w-xs mx-auto">
                    <button class="btn-brand flex items-center justify-center gap-2" onclick="downloadSplit()">
                        Download Pages <i class="fas fa-download"></i>
                    </button>
                    <button class="btn-outline" onclick="location.reload()">Split Another File</button>
                    <a href="../index.html" class="text-sm text-[#00079e] font-bold mt-4">Back to Dashboard</a>
                </div>
            </div>
        </section>

        <div class="ad-manager-placeholder row-settings" data-ad-type="leaderboard"></div>
    </main>

    <footer class="footer-main">
        <div class="row-settings text-center text-[10px] text-gray-400">
            Rojgar Sangam Tools - Secure Client-Side PDF Splitting
        </div>
    </footer>

    <script src="../js/ad-manager.js"></script>
    <script src="../js/main.js"></script>
    <script>
        let pdfFile = null;
        let splitPdfBytes = null;

        async function handleFile(e) {
            pdfFile = e.target.files[0];
            if (!pdfFile) return;

            const arrayBuffer = await pdfFile.arrayBuffer();
            const { PDFDocument } = PDFLib;
            const pdfDoc = await PDFDocument.load(arrayBuffer);
            
            document.getElementById('fileName').innerText = pdfFile.name;
            document.getElementById('pageCount').innerText = pdfDoc.getPageCount() + " Pages Found";
            switchScreen(2);
        }

        async function processSplit() {
            const rangeInput = document.getElementById('pageRange').value.trim();
            if (!rangeInput) {
                alert("Please enter a page range (e.g., 1-2).");
                return;
            }

            switchScreen(3);

            try {
                const arrayBuffer = await pdfFile.arrayBuffer();
                const { PDFDocument } = PDFLib;
                const srcDoc = await PDFDocument.load(arrayBuffer);
                const newDoc = await PDFDocument.create();
                
                let pagesToExtract = [];
                if (rangeInput.includes('-')) {
                    const parts = rangeInput.split('-');
                    const start = parseInt(parts[0]);
                    const end = parseInt(parts[1]);
                    for (let i = start; i <= end; i++) {
                        if (i > 0 && i <= srcDoc.getPageCount()) pagesToExtract.push(i - 1);
                    }
                } else {
                    const pageNum = parseInt(rangeInput);
                    if (pageNum > 0 && pageNum <= srcDoc.getPageCount()) pagesToExtract.push(pageNum - 1);
                }

                if (pagesToExtract.length === 0) {
                    alert("Invalid page range.");
                    switchScreen(2);
                    return;
                }

                const copiedPages = await newDoc.copyPages(srcDoc, pagesToExtract);
                copiedPages.forEach(page => newDoc.addPage(page));
                
                splitPdfBytes = await newDoc.save();
                setTimeout(() => switchScreen(4), 1200);
            } catch (err) {
                alert("An error occurred while splitting the PDF.");
                switchScreen(2);
            }
        }

        function downloadSplit() {
            if (!splitPdfBytes) return;
            const blob = new Blob([splitPdfBytes], { type: 'application/pdf' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'split-rojgar-sangam.pdf';
            link.click();
        }

        function switchScreen(id) {
            document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
            document.getElementById('screen-' + id).classList.remove('hidden');
        }
    </script>
</body>
</html>
