<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Resizer Online Free - Resize & Compress Image to KB</title>
    <meta name="description" content="Resize and Compress Image Online Free. Set Custom Width Height, Choose Preset Sizes, or Compress to Exact KB. JPG PNG WebP Supported. 100% Browser-Based, No Upload to Server.">
    <meta name="keywords" content="image resizer online free, compress image to kb, resize photo online, image compressor, photo size reducer, passport photo resize">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://tools.rojgarsangam.in/tools/image-resizer.html">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Image Resizer Online Free","url":"https://tools.rojgarsangam.in/tools/image-resizer.html","description":"Resize and Compress Image Online Free in Browser.","applicationCategory":"UtilitiesApplication","operatingSystem":"Any","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://tools.rojgarsangam.in/"},{"@type":"ListItem","position":2,"name":"Image Tools","item":"https://tools.rojgarsangam.in/tools/"},{"@type":"ListItem","position":3,"name":"Image Resizer","item":"https://tools.rojgarsangam.in/tools/image-resizer.html"}]}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"Is This Image Resizer Tool Free?","acceptedAnswer":{"@type":"Answer","text":"Yes, completely free with no limits on file size or number of images."}},{"@type":"Question","name":"How to Compress Image to 50KB?","acceptedAnswer":{"@type":"Answer","text":"Upload your image, click the Target KB tab, select the 50KB button, and click Resize Image."}},{"@type":"Question","name":"Is My Image Safe and Private?","acceptedAnswer":{"@type":"Answer","text":"Yes, all processing happens locally in your browser. Images never leave your device."}},{"@type":"Question","name":"Which Formats Are Supported?","acceptedAnswer":{"@type":"Answer","text":"JPG, PNG and WebP formats are supported as input. Output can be saved as JPG or PNG."}},{"@type":"Question","name":"Can I Resize Image for Government Forms?","acceptedAnswer":{"@type":"Answer","text":"Yes, use the Preset tab to select sizes like Passport Photo, UPSC Photo, Railway Photo and more."}}]}</script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"HowTo","name":"How to Resize Image Online Free","step":[{"@type":"HowToStep","position":1,"name":"Upload Image","text":"Click Upload or drag and drop your image."},{"@type":"HowToStep","position":2,"name":"Set Size","text":"Enter custom dimensions, pick a preset, or choose a target KB size."},{"@type":"HowToStep","position":3,"name":"Click Resize","text":"Click Resize Image to process instantly in your browser."},{"@type":"HowToStep","position":4,"name":"Download","text":"Preview the result and click Download to save."}]}</script>

    <style>
        body{font-family:'Lora',serif!important;background:#f8f8ff;color:#333}
        #header-placeholder{background-color:#fff!important;width:100%;display:block;position:relative;z-index:1000}
        .section-main{margin:40px 0px 40px 0px!important}
        .upload-section-wrapper{background:#fff;border-radius:20px;padding:40px 40px 40px 40px;box-shadow:0px 4px 20px rgba(0,0,0,0.08);border:1px solid #667799}
        .upload-area{border:3px dashed #667799;border-radius:16px;padding:60px 20px 60px 20px;text-align:center;cursor:pointer;background:#f8f8ff;transition:all .3s;max-width:700px;margin:0px auto 0px auto}
        .upload-area:hover,.upload-area.dragover{border-color:#00079e;background:#fdece5}
        .upload-icon{font-size:48px;color:#00079e;margin:0px 0px 20px 0px}
        .upload-text{font-size:20px;font-weight:700;color:#333;margin:0px 0px 10px 0px}
        .upload-subtext{font-size:14px;color:#667799;margin:0px 0px 0px 0px}
        .workspace-container{display:none}
        .workspace-container.active{display:flex;gap:30px;margin:30px 0px 0px 0px;align-items:flex-start}
        .preview-panel{flex:1;background:#fff;border-radius:12px;border:1px solid #667799;padding:20px 20px 20px 20px;display:flex;flex-direction:column;align-items:center}
        .preview-img-wrap{width:100%;border-radius:8px;border:1px solid #bdbdbd;overflow:hidden;background-image:linear-gradient(45deg,#bdbdbd 25%,transparent 25%),linear-gradient(-45deg,#bdbdbd 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#bdbdbd 75%),linear-gradient(-45deg,transparent 75%,#bdbdbd 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0;background-color:#f8f8ff;display:flex;align-items:center;justify-content:center;min-height:220px}
        .preview-img-wrap img{max-width:100%;max-height:380px;display:block;object-fit:contain}
        .img-info{width:100%;margin:14px 0px 0px 0px;display:flex;gap:8px;flex-wrap:wrap}
        .info-badge{background:#eff6ef;border:1px solid #667799;border-radius:6px;padding:5px 10px 5px 10px;font-size:12px;font-weight:700;color:#333}
        .info-badge span{color:#00079e}
        .controls-panel{width:380px;background:#fff;border:1px solid #667799;border-radius:12px;padding:25px 25px 25px 25px;height:fit-content;position:sticky;top:100px;display:flex;flex-direction:column}
        .controls-panel h2{font-size:24px;font-weight:900;color:#333;margin:0px 0px 5px 0px}
        .controls-subtitle{font-size:14px;color:#00079e;background:#eff6ef;padding:6px 10px 6px 10px;border-radius:6px;border:1px solid #667799;margin:0px 0px 20px 0px;display:inline-block}
        .tabs-header{display:flex;margin:0px 0px 20px 0px;border-bottom:2px solid #bdbdbd}
        .tab-btn{flex:1;background:transparent;border:none;border-bottom:3px solid transparent;font-size:12px;font-weight:700;color:#667799;cursor:pointer;padding:10px 5px 10px 5px;transition:all .3s;font-family:'Lora',serif;margin:0px 0px -2px 0px}
        .tab-btn:hover{color:#00079e}
        .tab-btn.active{color:#00079e;border-bottom:3px solid #00079e}
        .tab-content{display:none}
        .tab-content.active{display:block}
        .form-row{display:flex;gap:12px;margin:0px 0px 16px 0px}
        .form-group{flex:1;display:flex;flex-direction:column}
        .form-group label{font-size:12px;font-weight:700;color:#667799;margin:0px 0px 6px 0px}
        .form-input{width:100%;padding:10px 12px 10px 12px;border:1px solid #bdbdbd;border-radius:8px;font-size:14px;font-family:'Lora',serif;color:#333;background:#f8f8ff;box-sizing:border-box;transition:border .2s}
        .form-input:focus{outline:none;border-color:#00079e;background:#fff}
        .form-select{width:100%;padding:10px 12px 10px 12px;border:1px solid #bdbdbd;border-radius:8px;font-size:13px;font-family:'Lora',serif;color:#333;background:#f8f8ff;box-sizing:border-box;cursor:pointer}
        .form-select:focus{outline:none;border-color:#00079e}
        .aspect-lock-row{display:flex;align-items:center;gap:8px;margin:0px 0px 0px 0px}
        .aspect-lock-row input[type="checkbox"]{accent-color:#00079e;width:16px;height:16px;cursor:pointer}
        .aspect-lock-row label{font-size:13px;font-weight:700;color:#333;cursor:pointer}
        .preset-info-box{display:none;background:#eff6ef;border:1px solid #667799;border-radius:8px;padding:10px 14px 10px 14px;font-size:13px;color:#333;font-weight:700;margin:12px 0px 0px 0px}
        .kb-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:0px 0px 16px 0px}
        .kb-btn{padding:12px 8px 12px 8px;background:#f8f8ff;border:2px solid #bdbdbd;border-radius:8px;font-size:14px;font-weight:700;color:#333;cursor:pointer;font-family:'Lora',serif;transition:all .2s;text-align:center}
        .kb-btn:hover,.kb-btn.active{background:#eff6ef;border-color:#00079e;color:#00079e}
        .divider{height:1px;background:#bdbdbd;margin:18px 0px 18px 0px}
        .quality-section label{font-size:14px;font-weight:700;display:flex;justify-content:space-between;align-items:center;margin:0px 0px 10px 0px;color:#333}
        .quality-section label span{color:#00079e;background:#eff6ef;padding:2px 8px 2px 8px;border-radius:4px;font-size:13px;border:1px solid #667799}
        input[type="range"]{width:100%;accent-color:#00079e;cursor:pointer}
        .quality-note{font-size:11px;color:#bdbdbd;display:block;margin:4px 0px 0px 0px}
        .resize-btn{width:100%;padding:16px 0px 16px 0px;background:#00079e;color:#fff;border:none;border-radius:50px;font-size:16px;font-weight:700;cursor:pointer;margin:20px 0px 0px 0px;transition:all .3s;font-family:'Lora',serif;display:flex;align-items:center;justify-content:center;gap:8px}
        .resize-btn:hover{background:#333;transform:translateY(-2px)}
        .result-container{display:none}
        .result-container.active{display:flex;gap:30px;margin:30px 0px 0px 0px;align-items:flex-start}
        .result-info-panel{width:380px;background:#fff;border:1px solid #667799;border-radius:12px;padding:25px 25px 25px 25px;height:fit-content;position:sticky;top:100px}
        .result-success{text-align:center;margin:0px 0px 20px 0px}
        .result-icon{font-size:56px;color:#00c853;margin:0px 0px 12px 0px}
        .result-title{font-size:22px;font-weight:900;color:#333;margin:0px 0px 6px 0px}
        .result-sub{font-size:13px;color:#667799;margin:0px 0px 0px 0px}
        .result-stats{display:flex;flex-direction:column;gap:10px;margin:0px 0px 20px 0px}
        .stat-row{display:flex;justify-content:space-between;align-items:center;padding:10px 14px 10px 14px;background:#f8f8ff;border:1px solid #bdbdbd;border-radius:8px}
        .stat-label{font-size:12px;color:#667799;font-weight:700}
        .stat-value{font-size:12px;color:#00079e;font-weight:700}
        .download-btn{width:100%;padding:16px 0px 16px 0px;background:#eff6ef;color:#00079e;border:1px solid #667799;border-radius:50px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s;font-family:'Lora',serif;display:flex;align-items:center;justify-content:center;gap:8px}
        .download-btn:hover{background:#fdece5;transform:translateY(-2px)}
        .reset-btn{width:100%;padding:12px 0px 12px 0px;background:#f8f8ff;color:#667799;border:1px solid #bdbdbd;border-radius:50px;font-size:14px;font-weight:700;cursor:pointer;margin:10px 0px 0px 0px;transition:all .3s;font-family:'Lora',serif;display:flex;align-items:center;justify-content:center;gap:8px}
        .reset-btn:hover{background:#fdece5;color:#00079e;border-color:#00079e}
        .processing-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(248,248,255,0.95);display:none;align-items:center;justify-content:center;z-index:9999}
        .processing-overlay.active{display:flex}
        .processing-box{background:#fff;border-radius:20px;padding:50px 50px 50px 50px;text-align:center;max-width:420px;width:90%;border:1px solid #667799;box-shadow:0px 20px 60px rgba(0,0,0,0.15)}
        .processing-icon{font-size:60px;color:#00079e;margin:0px 0px 20px 0px;animation:spin 1s linear infinite}
        @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        .processing-title{font-size:24px;font-weight:900;color:#333;margin:0px 0px 10px 0px}
        .processing-text{font-size:14px;color:#00079e;background:#eff6ef;padding:10px 15px 10px 15px;border-radius:8px;border:1px solid #667799;font-weight:700;margin:0px 0px 0px 0px}
        #footer-placeholder{border:1px solid #667799!important;width:100%;display:block;position:relative}
        @media(max-width:1024px){.workspace-container.active,.result-container.active{flex-direction:column}.controls-panel,.result-info-panel{width:100%;position:static}}
        @media(max-width:600px){.upload-section-wrapper{padding:20px 20px 20px 20px}.kb-grid{grid-template-columns:repeat(2,1fr)}.form-row{flex-direction:column}}
    </style>
</head>
<body>
    <div id="header-placeholder"></div>

    <section class="section" style="margin:50px 0px 0px 0px!important">
        <div class="row-container">
            <div class="ad-manager-placeholder ad-leaderboard" data-ad-type="leaderboard"></div>
        </div>
    </section>

    <section class="section-main">
        <div class="row-container">
            <div style="text-align:center;margin:0px 0px 30px 0px">
                <h1 style="font-size:36px;font-weight:900;color:#333;margin:0px 0px 10px 0px">Image Resizer Online Free</h1>
                <p style="font-size:16px;color:#333;margin:0px 0px 0px 0px">Resize, Compress and Convert Images. Set Custom Dimensions, Choose Preset or Target Exact KB. JPG, PNG, WebP Supported.</p>
            </div>

            <div class="upload-section-wrapper">

                <div id="uploadArea" class="upload-area">
                    <div class="upload-icon"><i class="fas fa-image"></i></div>
                    <div class="upload-text">+ Upload Image</div>
                    <div class="upload-subtext">or Drop file here — JPG, PNG, WebP Supported</div>
                    <input type="file" id="fileInput" accept="image/jpeg,image/png,image/webp" style="display:none">
                </div>

                <div id="workspace" class="workspace-container">
                    <div class="preview-panel">
                        <div class="preview-img-wrap">
                            <img id="originalPreview" src="" alt="Original Image Preview">
                        </div>
                        <div class="img-info">
                            <div class="info-badge">Size: <span id="originalSize">-</span></div>
                            <div class="info-badge">Dimensions: <span id="originalDims">-</span></div>
                            <div class="info-badge">Format: <span id="originalFormat">-</span></div>
                        </div>
                    </div>

                    <div class="controls-panel">
                        <h2>Resize Image</h2>
                        <div class="controls-subtitle">Choose Resize Method Below</div>

                        <div class="tabs-header">
                            <button class="tab-btn active" data-tab="tabDimensions">Dimensions</button>
                            <button class="tab-btn" data-tab="tabPreset">Preset</button>
                            <button class="tab-btn" data-tab="tabTargetKB">Target KB</button>
                        </div>

                        <div id="tabDimensions" class="tab-content active">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Width (px)</label>
                                    <input type="number" id="widthInput" class="form-input" placeholder="e.g. 800" min="1" max="10000">
                                </div>
                                <div class="form-group">
                                    <label>Height (px)</label>
                                    <input type="number" id="heightInput" class="form-input" placeholder="e.g. 600" min="1" max="10000">
                                </div>
                            </div>
                            <div class="aspect-lock-row">
                                <input type="checkbox" id="aspectLock" checked>
                                <label for="aspectLock"><i class="fas fa-lock" style="color:#00079e;margin-right:4px"></i> Lock Aspect Ratio</label>
                            </div>
                        </div>

                        <div id="tabPreset" class="tab-content">
                            <div class="form-group" style="margin:0px 0px 0px 0px">
                                <label>Select Preset Size</label>
                                <select id="presetSelect" class="form-select">
                                    <option value="">-- Select Preset --</option>
                                    <optgroup label="Government Forms">
                                        <option value="413x531">Passport Photo (413×531 px)</option>
                                        <option value="200x230">UPSC / SSC / Bank Photo (200×230 px)</option>
                                        <option value="400x500">Railway / Police Photo (400×500 px)</option>
                                        <option value="200x200">Stamp Size Photo (200×200 px)</option>
                                    </optgroup>
                                    <optgroup label="Signature">
                                        <option value="140x60">Standard Signature (140×60 px)</option>
                                        <option value="200x80">Wide Signature (200×80 px)</option>
                                    </optgroup>
                                    <optgroup label="Social Media">
                                        <option value="800x800">WhatsApp DP (800×800 px)</option>
                                        <option value="1080x1080">Instagram Post (1080×1080 px)</option>
                                        <option value="170x170">Facebook Profile (170×170 px)</option>
                                        <option value="1500x500">Twitter / X Header (1500×500 px)</option>
                                    </optgroup>
                                    <optgroup label="Print Sizes">
                                        <option value="1200x1800">4R Print (1200×1800 px)</option>
                                        <option value="2480x3508">A4 Print (2480×3508 px)</option>
                                    </optgroup>
                                    <optgroup label="General">
                                        <option value="1920x1080">HD Wallpaper (1920×1080 px)</option>
                                        <option value="1000x1000">Square (1000×1000 px)</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div id="presetInfoBox" class="preset-info-box">Selected: <span id="presetInfoText" style="color:#00079e"></span></div>
                        </div>

                        <div id="tabTargetKB" class="tab-content">
                            <p style="font-size:13px;color:#667799;margin:0px 0px 14px 0px">Select target file size. Tool will auto-adjust quality to reach your target.</p>
                            <div class="kb-grid">
                                <button class="kb-btn" data-kb="10">10 KB</button>
                                <button class="kb-btn" data-kb="20">20 KB</button>
                                <button class="kb-btn" data-kb="50">50 KB</button>
                                <button class="kb-btn" data-kb="100">100 KB</button>
                                <button class="kb-btn" data-kb="200">200 KB</button>
                                <button class="kb-btn" data-kb="500">500 KB</button>
                            </div>
                            <div class="form-group" style="margin:0px 0px 0px 0px">
                                <label>Or Enter Custom KB</label>
                                <input type="number" id="customKbInput" class="form-input" placeholder="e.g. 75" min="1" max="5000">
                            </div>
                        </div>

                        <div class="divider"></div>

                        <div class="form-row" style="margin:0px 0px 16px 0px">
                            <div class="form-group">
                                <label>Output Format</label>
                                <select id="formatSelect" class="form-select">
                                    <option value="jpeg">JPG</option>
                                    <option value="png">PNG</option>
                                </select>
                            </div>
                        </div>

                        <div id="qualitySection" class="quality-section">
                            <label>Quality <span id="qualityVal">85%</span></label>
                            <input type="range" id="qualitySlider" min="10" max="100" value="85">
                            <small class="quality-note">Quality applies to JPG only. Auto-adjusted in Target KB mode.</small>
                        </div>

                        <button class="resize-btn" id="resizeBtn"><i class="fas fa-crop-alt"></i> Resize Image</button>
                    </div>
                </div>

                <div id="resultSection" class="result-container">
                    <div class="preview-panel">
                        <div class="preview-img-wrap">
                            <img id="resultPreview" src="" alt="Resized Image Preview">
                        </div>
                        <div class="img-info">
                            <div class="info-badge">New Size: <span id="resultSize">-</span></div>
                            <div class="info-badge">Dimensions: <span id="resultDims">-</span></div>
                        </div>
                    </div>
                    <div class="result-info-panel">
                        <div class="result-success">
                            <div class="result-icon"><i class="fas fa-check-circle"></i></div>
                            <div class="result-title">Image Resized!</div>
                            <div class="result-sub">Your image is ready to download.</div>
                        </div>
                        <div class="result-stats">
                            <div class="stat-row"><span class="stat-label">Original Size</span><span class="stat-value" id="statOrigSize">-</span></div>
                            <div class="stat-row"><span class="stat-label">New Size</span><span class="stat-value" id="statNewSize">-</span></div>
                            <div class="stat-row"><span class="stat-label">Original Dimensions</span><span class="stat-value" id="statOrigDims">-</span></div>
                            <div class="stat-row"><span class="stat-label">New Dimensions</span><span class="stat-value" id="statNewDims">-</span></div>
                            <div class="stat-row"><span class="stat-label">Output Format</span><span class="stat-value" id="statFormat">-</span></div>
                            <div class="stat-row"><span class="stat-label">Size Reduction</span><span class="stat-value" id="statReduction">-</span></div>
                        </div>
                        <button class="download-btn" id="downloadBtn"><i class="fas fa-download"></i> Download Image</button>
                        <button class="reset-btn" id="resizeAgainBtn"><i class="fas fa-redo"></i> Resize Another Image</button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="section-container" style="margin:40px 0px 40px 0px!important;padding:0px 0px 0px 0px!important">
        <div class="row-container">
            <h2 style="font-weight:900;margin:0px 0px 25px 0px!important;text-align:center!important;color:#333">How to Resize Image Online Free</h2>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;margin:0px 0px 0px 0px">
                <div style="background:#fff;border:1px solid #667799;border-radius:12px;padding:24px 20px 24px 20px;text-align:center"><div style="font-size:36px;color:#00079e;margin:0px 0px 12px 0px"><i class="fas fa-upload"></i></div><div style="font-size:16px;font-weight:700;color:#333;margin:0px 0px 8px 0px">Step 1: Upload Image</div><div style="font-size:13px;color:#667799">Click Upload or drag and drop your JPG, PNG or WebP image.</div></div>
                <div style="background:#fff;border:1px solid #667799;border-radius:12px;padding:24px 20px 24px 20px;text-align:center"><div style="font-size:36px;color:#00079e;margin:0px 0px 12px 0px"><i class="fas fa-sliders-h"></i></div><div style="font-size:16px;font-weight:700;color:#333;margin:0px 0px 8px 0px">Step 2: Set Size</div><div style="font-size:13px;color:#667799">Enter custom width and height, pick a preset size, or choose a target file size in KB.</div></div>
                <div style="background:#fff;border:1px solid #667799;border-radius:12px;padding:24px 20px 24px 20px;text-align:center"><div style="font-size:36px;color:#00079e;margin:0px 0px 12px 0px"><i class="fas fa-crop-alt"></i></div><div style="font-size:16px;font-weight:700;color:#333;margin:0px 0px 8px 0px">Step 3: Resize</div><div style="font-size:13px;color:#667799">Click Resize Image. Processing happens instantly inside your browser.</div></div>
                <div style="background:#fff;border:1px solid #667799;border-radius:12px;padding:24px 20px 24px 20px;text-align:center"><div style="font-size:36px;color:#00079e;margin:0px 0px 12px 0px"><i class="fas fa-download"></i></div><div style="font-size:16px;font-weight:700;color:#333;margin:0px 0px 8px 0px">Step 4: Download</div><div style="font-size:13px;color:#667799">Preview the resized image and click Download to save it to your device.</div></div>
            </div>
        </div>
    </section>

    <section class="section-container" style="margin:40px 0px 40px 0px!important;padding:0px 0px 0px 0px!important">
        <div class="row-container">
            <h2 style="font-weight:900;margin:0px 0px 25px 0px!important;text-align:center!important;color:#333">Frequently Asked Questions</h2>
            <div class="faq-list">
                <div class="faq-item"><div class="faq-question" onclick="toggleFAQ(this)"><span>Is This Image Resizer Tool Free?</span><i class="faq-icon">+</i></div><div class="faq-answer"><p>Yes, our Image Resizer is completely free with no limits on file size or number of images you can resize.</p></div></div>
                <div class="faq-item"><div class="faq-question" onclick="toggleFAQ(this)"><span>How to Compress Image to 50KB?</span><i class="faq-icon">+</i></div><div class="faq-answer"><p>Upload your image, click the Target KB tab, select the 50KB button, and click Resize Image. The tool automatically adjusts quality to bring the file under your target size.</p></div></div>
                <div class="faq-item"><div class="faq-question" onclick="toggleFAQ(this)"><span>Is My Image Safe and Private?</span><i class="faq-icon">+</i></div><div class="faq-answer"><p>Yes, all processing happens locally in your browser. Your images are never uploaded to any server and remain completely private.</p></div></div>
                <div class="faq-item"><div class="faq-question" onclick="toggleFAQ(this)"><span>Which Image Formats Are Supported?</span><i class="faq-icon">+</i></div><div class="faq-answer"><p>JPG, PNG and WebP formats are supported as input. Output can be saved as JPG or PNG format.</p></div></div>
                <div class="faq-item"><div class="faq-question" onclick="toggleFAQ(this)"><span>Can I Resize Image for Government Forms?</span><i class="faq-icon">+</i></div><div class="faq-answer"><p>Yes, use the Preset tab to select standard sizes like Passport Photo, UPSC/SSC/Bank Photo, Railway/Police Photo, and Signature sizes used in government application forms.</p></div></div>
            </div>
        </div>
    </section>

    <section class="section-main">
        <div class="row-custom">
            <div class="ad-manager-placeholder" data-ad-type="responsive"></div>
        </div>
    </section>

    <div id="processingOverlay" class="processing-overlay">
        <div class="processing-box">
            <div class="processing-icon"><i class="fas fa-cog"></i></div>
            <div class="processing-title">Processing Image</div>
            <div class="processing-text" id="processingText">Please Wait. Resizing Your Image...</div>
        </div>
    </div>

    <div id="footer-placeholder"></div>
    <script src="../js/ad-manager.js"></script>
    <script src="../js/main.js"></script>

    <script>
    let originalFile   = null;
    let originalImg    = null;
    let originalW      = 0;
    let originalH      = 0;
    let originalSizeKB = 0;
    let resultDataURL  = null;
    let resultExt      = 'jpg';
    let selectedKB     = null;

    const uploadArea        = document.getElementById('uploadArea');
    const fileInput         = document.getElementById('fileInput');
    const workspace         = document.getElementById('workspace');
    const resultSection     = document.getElementById('resultSection');
    const processingOverlay = document.getElementById('processingOverlay');
    const processingText    = document.getElementById('processingText');
    const originalPreview   = document.getElementById('originalPreview');
    const resultPreview     = document.getElementById('resultPreview');
    const widthInput        = document.getElementById('widthInput');
    const heightInput       = document.getElementById('heightInput');
    const aspectLock        = document.getElementById('aspectLock');
    const presetSelect      = document.getElementById('presetSelect');
    const formatSelect      = document.getElementById('formatSelect');
    const qualitySlider     = document.getElementById('qualitySlider');
    const qualityVal        = document.getElementById('qualityVal');
    const customKbInput     = document.getElementById('customKbInput');
    const downloadBtn       = document.getElementById('downloadBtn');
    const resizeAgainBtn    = document.getElementById('resizeAgainBtn');
    const resizeBtn         = document.getElementById('resizeBtn');

    function fmtKB(kb) {
        if (kb >= 1024) return (kb / 1024).toFixed(2) + ' MB';
        return kb.toFixed(1) + ' KB';
    }

    function b64ToKB(b64) {
        const base = b64.split(',')[1] || b64;
        return (base.length * 0.75) / 1024;
    }

    uploadArea.addEventListener('click',     () => fileInput.click());
    fileInput.addEventListener('change',     e => { if (e.target.files[0]) loadImage(e.target.files[0]); fileInput.value = ''; });
    uploadArea.addEventListener('dragover',  e => { e.preventDefault(); uploadArea.classList.add('dragover'); });
    uploadArea.addEventListener('dragleave', () => uploadArea.classList.remove('dragover'));
    uploadArea.addEventListener('drop', e => {
        e.preventDefault();
        uploadArea.classList.remove('dragover');
        const f = Array.from(e.dataTransfer.files).find(f => /^image\/(jpeg|png|webp)$/.test(f.type));
        if (f) loadImage(f);
        else alert('Please Upload a Valid JPG, PNG or WebP File.');
    });

    function loadImage(file) {
        originalFile   = file;
        originalSizeKB = file.size / 1024;
        const fmtLabel = file.type === 'image/png' ? 'PNG' : file.type === 'image/webp' ? 'WebP' : 'JPG';
        const reader   = new FileReader();
        reader.onload  = ev => {
            originalImg        = new Image();
            originalImg.onload = () => {
                originalW = originalImg.naturalWidth;
                originalH = originalImg.naturalHeight;
                originalPreview.src = ev.target.result;
                document.getElementById('originalSize').textContent   = fmtKB(originalSizeKB);
                document.getElementById('originalDims').textContent   = originalW + '×' + originalH + ' px';
                document.getElementById('originalFormat').textContent = fmtLabel;
                widthInput.value  = originalW;
                heightInput.value = originalH;
                uploadArea.style.display = 'none';
                resultSection.classList.remove('active');
                workspace.classList.add('active');
            };
            originalImg.src = ev.target.result;
        };
        reader.readAsDataURL(file);
    }

    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            document.getElementById(this.dataset.tab).classList.add('active');
            updateQualityState();
        });
    });

    widthInput.addEventListener('input', () => {
        if (aspectLock.checked && originalH > 0 && widthInput.value > 0)
            heightInput.value = Math.round(widthInput.value * (originalH / originalW));
    });
    heightInput.addEventListener('input', () => {
        if (aspectLock.checked && originalW > 0 && heightInput.value > 0)
            widthInput.value = Math.round(heightInput.value * (originalW / originalH));
    });

    presetSelect.addEventListener('change', () => {
        const val = presetSelect.value;
        const box = document.getElementById('presetInfoBox');
        if (!val) { box.style.display = 'none'; return; }
        const [w, h] = val.split('x');
        document.getElementById('presetInfoText').textContent = w + ' × ' + h + ' px';
        box.style.display = 'block';
    });

    document.querySelectorAll('.kb-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            document.querySelectorAll('.kb-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            selectedKB = parseInt(this.dataset.kb);
            customKbInput.value = '';
        });
    });
    customKbInput.addEventListener('input', () => {
        document.querySelectorAll('.kb-btn').forEach(b => b.classList.remove('active'));
        selectedKB = null;
    });

    qualitySlider.addEventListener('input', () => { qualityVal.textContent = qualitySlider.value + '%'; });
    formatSelect.addEventListener('change', updateQualityState);

    function updateQualityState() {
        const isPNG   = formatSelect.value === 'png';
        const isKBTab = document.querySelector('.tab-btn.active').dataset.tab === 'tabTargetKB';
        const disable = isPNG || isKBTab;
        document.getElementById('qualitySection').style.opacity = disable ? '0.4' : '1';
        qualitySlider.disabled = disable;
    }

    function buildCanvas(targetW, targetH) {
        const canvas  = document.createElement('canvas');
        canvas.width  = targetW;
        canvas.height = targetH;
        canvas.getContext('2d').drawImage(originalImg, 0, 0, targetW, targetH);
        return canvas;
    }

    function compressToKB(canvas, targetKB, mime) {
        if (mime === 'image/png') {
            const dataURL = canvas.toDataURL('image/png');
            const sizeKB  = b64ToKB(dataURL);
            if (sizeKB <= targetKB) return dataURL;
            let scale = Math.sqrt(targetKB / sizeKB);
            scale     = Math.max(0.05, Math.min(scale, 0.99));
            const c2  = document.createElement('canvas');
            c2.width  = Math.max(1, Math.round(canvas.width  * scale));
            c2.height = Math.max(1, Math.round(canvas.height * scale));
            c2.getContext('2d').drawImage(canvas, 0, 0, c2.width, c2.height);
            return c2.toDataURL('image/png');
        }
        let lo = 0.01, hi = 1.0, best = canvas.toDataURL('image/jpeg', 0.5);
        for (let i = 0; i < 20; i++) {
            const mid     = (lo + hi) / 2;
            const dataURL = canvas.toDataURL('image/jpeg', mid);
            const sizeKB  = b64ToKB(dataURL);
            if (sizeKB <= targetKB) { best = dataURL; lo = mid; }
            else hi = mid;
            if (hi - lo < 0.005) break;
        }
        const bestKB = b64ToKB(best);
        if (bestKB > targetKB) {
            let scale = Math.sqrt(targetKB / bestKB) * 0.9;
            scale     = Math.max(0.05, Math.min(scale, 0.99));
            const c2  = document.createElement('canvas');
            c2.width  = Math.max(1, Math.round(canvas.width  * scale));
            c2.height = Math.max(1, Math.round(canvas.height * scale));
            c2.getContext('2d').drawImage(canvas, 0, 0, c2.width, c2.height);
            return compressToKB(c2, targetKB, mime);
        }
        return best;
    }

    resizeBtn.addEventListener('click', async () => {
        if (!originalImg) { alert('Please Upload an Image First.'); return; }
        const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
        const format    = formatSelect.value;
        const quality   = parseInt(qualitySlider.value) / 100;
        const mime      = 'image/' + format;
        resultExt       = format === 'jpeg' ? 'jpg' : 'png';

        processingOverlay.classList.add('active');
        processingText.textContent = 'Please Wait. Resizing Your Image...';
        await new Promise(r => setTimeout(r, 80));

        try {
            let targetW, targetH, dataURL;

            if (activeTab === 'tabDimensions') {
                targetW = parseInt(widthInput.value)  || originalW;
                targetH = parseInt(heightInput.value) || originalH;
                const canvas = buildCanvas(targetW, targetH);
                dataURL = canvas.toDataURL(mime, quality);

            } else if (activeTab === 'tabPreset') {
                if (!presetSelect.value) { alert('Please Select a Preset Size.'); processingOverlay.classList.remove('active'); return; }
                [targetW, targetH] = presetSelect.value.split('x').map(Number);
                const canvas = buildCanvas(targetW, targetH);
                dataURL = canvas.toDataURL(mime, quality);

            } else {
                const kb = selectedKB || parseInt(customKbInput.value);
                if (!kb || kb <= 0) { alert('Please Select or Enter a Target KB Size.'); processingOverlay.classList.remove('active'); return; }
                processingText.textContent = 'Compressing to ' + kb + ' KB...';
                await new Promise(r => setTimeout(r, 40));
                targetW = originalW;
                targetH = originalH;
                const canvas = buildCanvas(targetW, targetH);
                dataURL = compressToKB(canvas, kb, mime);
                const actualKB = b64ToKB(dataURL);
                const tmpCanvas = document.createElement('canvas');
                const tmpImg    = new Image();
                await new Promise(res => { tmpImg.onload = res; tmpImg.src = dataURL; });
                targetW = tmpImg.naturalWidth;
                targetH = tmpImg.naturalHeight;
            }

            const newSizeKB = b64ToKB(dataURL);
            resultDataURL   = dataURL;

            resultPreview.src = dataURL;
            document.getElementById('resultSize').textContent = fmtKB(newSizeKB);
            document.getElementById('resultDims').textContent = targetW + '×' + targetH + ' px';

            document.getElementById('statOrigSize').textContent  = fmtKB(originalSizeKB);
            document.getElementById('statNewSize').textContent   = fmtKB(newSizeKB);
            document.getElementById('statOrigDims').textContent  = originalW + '×' + originalH + ' px';
            document.getElementById('statNewDims').textContent   = targetW + '×' + targetH + ' px';
            document.getElementById('statFormat').textContent    = format === 'jpeg' ? 'JPG' : 'PNG';

            const reduction = originalSizeKB > 0 ? Math.round((1 - newSizeKB / originalSizeKB) * 100) : 0;
            document.getElementById('statReduction').textContent = reduction > 0 ? reduction + '% Smaller' : 'Size Increased';

            workspace.classList.remove('active');
            resultSection.classList.add('active');

        } catch (err) {
            console.error(err);
            alert('Error: ' + err.message);
        } finally {
            processingOverlay.classList.remove('active');
        }
    });

    downloadBtn.addEventListener('click', () => {
        if (!resultDataURL) return;
        const a    = document.createElement('a');
        a.href     = resultDataURL;
        a.download = 'resized-image-rojgarsangam.' + resultExt;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
    });

    resizeAgainBtn.addEventListener('click', () => {
        originalFile   = null;
        originalImg    = null;
        originalW      = 0;
        originalH      = 0;
        originalSizeKB = 0;
        resultDataURL  = null;
        selectedKB     = null;
        widthInput.value        = '';
        heightInput.value       = '';
        presetSelect.value      = '';
        customKbInput.value     = '';
        qualitySlider.value     = 85;
        qualityVal.textContent  = '85%';
        formatSelect.value      = 'jpeg';
        document.getElementById('presetInfoBox').style.display = 'none';
        document.querySelectorAll('.kb-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelector('.tab-btn[data-tab="tabDimensions"]').classList.add('active');
        document.getElementById('tabDimensions').classList.add('active');
        resultSection.classList.remove('active');
        workspace.classList.remove('active');
        uploadArea.style.display = 'block';
        updateQualityState();
    });
    </script>
</body>
</html>
